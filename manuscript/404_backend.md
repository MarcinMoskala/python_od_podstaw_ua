# Створення вебсайтів

Ми вже навчилися використовувати Python для спілкування з&nbsp;*вебсторінками* (англ. website). Однак ці вебсайти дуже часто також пишуться на&nbsp;Python. Це звичайні програми, які працюють на&nbsp;машинах із доступом до інтернету. Тут немає якоїсь особливої магії. Знаючи, як&nbsp;створюються такі сторінки, ми&nbsp;можемо самі створити аналог Facebook, BBC, Twitter або "Радіо Свобода".

Щоб зрозуміти, як&nbsp;працюють вебсайти, уяви, що&nbsp;мережева карта Твого комп’ютера схожа на&nbsp;поштове відділення, яке дозволяє Тобі надсилати повідомлення іншим поштовим відділенням, підключеним до інтернету. Єдина відмінність полягає у&nbsp;тому, що&nbsp;коли ми&nbsp;надсилаємо повідомлення, то очікуємо негайної відповіді. Ми&nbsp;надсилаємо повідомлення певній програмі на&nbsp;конкретному комп’ютері. Ми&nbsp;визначаємо комп’ютер за **IP-адресою**, а програму — за так званим **номером порту**. Вони нагадують адресу та&nbsp;прізвище адресата.

А тепер уяви, що&nbsp;Ти хочеш дізнатися, що&nbsp;Твої друзі опублікували у&nbsp;Facebook, тобто на&nbsp;`www.facebook.com`. Це не&nbsp;точна адреса, тому "листоноша" спочатку перевіряє, за якою адресою міститься сторінка [^404_1]. Визначивши адресу та&nbsp;номер порту, він надсилає туди повідомлення. Це повідомлення надійде на&nbsp;один із комп’ютерів Facebook (комп’ютери, призначені для відповідей на&nbsp;запити, називаються **серверами**), який відповість відображенням домашньої сторінки порталу Facebook.

Портал складається з&nbsp;**підсторінок**. Наприклад, на&nbsp;*www.facebook.com* можна знайти підсторінки *www.facebook.com/watch/* чи *www.facebook.com/marketplace/*, де&nbsp;*/watch/* чи */marketplace/* ми&nbsp;будемо називати **шляхом** (англ. path). Більшість вебсайтів містять багато підсторінок. Коли ми&nbsp;створюємо вебсайт, ми&nbsp;зазвичай визначаємо, як&nbsp;наша програма має поводитися та&nbsp;як&nbsp;відповідати на&nbsp;запити конкретного шляху. І запит, і відповідь можуть містити додаткові дані.

Розглянемо це&nbsp;на&nbsp;прикладі. Так, ми&nbsp;можемо побачити як&nbsp;виглядає простий вебсайт, побудований за допомогою пакета `flask`:

```python
from flask import Flask

app = Flask(__name__)


@app.route('/')
def main():
    return "Це головна сторінка"


@app.route('/hello')
def hello_world():
    return "Привіт, світе"


@app.route('/hello/<name>')
def hello_name(name: str):
    return f"Привіт, {name}"


if __name__ == '__main__':
    app.run()
```

Було визначено три шляхи:

- "/", який завжди відповідає текстом "Це домашня сторінка";
- "/ hello", який завжди відповідає "Привіт, світе";
- "/hello/<name>", де"<name>" прийме довільне правильне текстове значення. Наприклад, "/hello/Читачу" відповість "Привіт, Читачу".

Погляньмо, як&nbsp;наша програма працює на&nbsp;практиці. Ми&nbsp;можемо запустити цей код у&nbsp;PyCharm:

![](404_flask_run.png)

Така програма працюватиме та&nbsp;відповідатиме на&nbsp;запити від будь-кого, хто надішле запит на&nbsp;відповідну адресу та&nbsp;порт. Це вже було б можливо, якби хтось знав IP-адресу нашого комп’ютера [^404_2]. Щоб&nbsp;перевірити, що&nbsp;відповість наша програма, ми&nbsp;можемо використати адресу `127.0.0.1`, також відому як&nbsp;**localhost**. Це спеціальна адреса, яка працює так, що&nbsp;запити, які ми&nbsp;надсилаємо, потрапляють до нашого ж комп’ютера. Таким чином вона дозволяє спілкуватися через мережеву карту з&nbsp;іншими програмами на&nbsp;комп’ютері, на&nbsp;якому ми&nbsp;працюємо (трохи як&nbsp;"листоноша" для спілкування з&nbsp;іншими мешканцями нашого дому).

Оскільки на&nbsp;одній машині може працювати багато програм, які відповідають на&nbsp;мережеві запити, крім адреси, необхідно зазначити номер порту, який ідентифікує програму на&nbsp;цьому комп’ютері. Цей порт можна вказати перед запуском програми. Якщо цього не&nbsp;зробити, буде використане значення за замовчуванням, яке для пакету `flask` складає `5000`. Щоб&nbsp;не&nbsp;задаватися питанням, яку адресу та&nbsp;порт ми&nbsp;повинні використовувати для тестування нашої програми, Flask після запуску надає повну URL-адресу, за якою він відповідає на&nbsp;запити. У моєму випадку це&nbsp;`http://127.0.0.1:5000/`. Коли ми&nbsp;запускаємо цю адресу в&nbsp;браузері, то повинні побачити текст "Це домашня сторінка". Тоді ми&nbsp;можемо перейти на&nbsp;інші підсторінки, наприклад "/hello" або "/hello/Читачу".

![](404_webpage_1.png)

![](404_webpage_2.png)

![](404_webpage_3.png)

Як бачимо, нам вдалося створити дуже простий сайт.

## Завершення

У цьому розділі ми&nbsp;навчилися основам створення вебсайтів. Ми&nbsp;дізналися про такі поняття, як: підсторінка, шлях, IP-адреса чи порт. Попереду ще довга дорога до створення Facebook. Щоб&nbsp;вебсайт виглядав добре, ми&nbsp;повинні використовувати HTML, JavaScript, бази даних... Однак це&nbsp;хороший початок для того, щоб стати розробником таких сервісів. Вже дуже скоро у&nbsp;розділі *Що можна робити в&nbsp;Python* ми&nbsp;дізнаємося про наступні кроки.

[^404_1]: Для пошуку адреси IP на&nbsp;основі адреси сторінки використовуються системи DNS (абревіатура від Domain Name System).
[^404_2]: Зараз це&nbsp;не&nbsp;так просто, тому що&nbsp;наші комп’ютери приховані за локальними мережами, але інший пристрій, підключений до тієї ж мережі, повинен мати можливість спілкуватися з&nbsp;таким сервісом.



