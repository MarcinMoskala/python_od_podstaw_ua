# Встановлення пакетів

Python створений і розроблений ентузіастами, які були захоплені цією мовою та&nbsp;хотіли її&nbsp;розвивати. З часом утворилася ціла спільнота — Python community. Крім мови, було створено низку інструментів, у&nbsp;тому числі для легкого обміну пакетами.

## PyPI

Так з’явилася центральна база пакетів PyPI [^206_1] (Python Package Index). Можеш собі уявити, що&nbsp;це&nbsp;величезний диск, на&nbsp;якому розробники розміщують пакети, а користувачі їх завантажують. Якщо тобі потрібно знайти такий пакет, усі вони подані та&nbsp;описані на&nbsp;сторінці pypi.org.

PyPI має власну пошукову систему та&nbsp;величезну кількість фільтрів для відображення результатів. Однак особисто я рідко нею користуюся. Багато результатів стосуються непопулярних пакетів. Частіше я знаходжу пропоновані пакети в&nbsp;StackOverflow, блогах чи на&nbsp;форумах, а в&nbsp;PyPI перевіряю їх використання та&nbsp;документацію (опис того, як&nbsp;вони працюють).

![Сторінка центрального сховища пакетів *pypi.org*.](206_pypi.png)

![Опис пакета fastly у&nbsp;версії 0.5.1.](206_pypi_desc.png)

## Pip

Оскільки я вже згадав про завантаження пакетів, для цього існує ще один інструмент під назвою pip [^206_3]. Це система керування пакетами, тобто програма, яка дозволяє завантажувати, видаляти або змінювати версії пакетів. Достатньо дати їй інструкцію, що&nbsp;саме слід завантажити, і вона про все подбає.

Pip за замовчуванням встановлюється разом із Python. Однак буває, що&nbsp;на&nbsp;комп’ютері заінстальовано Python, а pip — ні. Почнімо із перевірки, чи встановлено pip у&nbsp;Тебе. Відкрий командний рядок [^206_4] (Термінал у&nbsp;випадку MacOS або Linux) та&nbsp;введи "pip --version". Якщо програма у&nbsp;Тебе встановлена, буде відображено її&nbsp;версію. Якщо ні, Ти&nbsp;побачиш повідомлення про помилку посилання на&nbsp;програму, якої немає.

{width: 70%}
![](206_pip_version_not_found.png)

Щоб встановити pip, перейди на&nbsp;вебсайт https://bootstrap.pypa.io/get-pip.py і завантаж цей файл (клацни правою кнопкою миші та&nbsp;вибери "Зберегти як") у&nbsp;місце, де&nbsp;відкритий командний рядок [^206_5]. Він буде називатися "get-pip.py".

{width: 60%}
![](206_save_as.png)

Потім запусти цей файл за допомогою Python, тобто виклич "python get-pip.py". Після цього вимкни й увімкни командний рядок, а потім знову введи "pip --version". Якщо команда досі не&nbsp;вказує правильну версію, введи "pip3 --version". Додаткова трійка означає, що&nbsp;pip було встановлено для Python у&nbsp;третій версії. У такому випадку під час&nbsp;наступних кроків встановлення пакетів використовуй "pip3", а не&nbsp;"pip".

{width: 100%}
![](206_pip_version.png)

Якщо щось пішло не&nbsp;так, повтори всі кроки для встановлення Python з&nbsp;розділу *Перша програма*, а потім виконай інструкцію зі встановлення pip [^206_6].

## Встановлення пакетів з&nbsp;pip

Щоб установити пакет за допомогою pip, запусти з&nbsp;командного рядка (або Терміналу) "pip install {package name}" (або "pip3 install {package name}"). Назву пакета вводимо малими літерами.

{width: 100%}
![](206_pip_install.png)

Зверни увагу, що&nbsp;команда для встановлення пакета виділена на&nbsp;сторінці PyPI. Нижче наведено метод інсталяції пакета "fastly".

{width: 70%}
![](206_pypi_desc_command.png)

## Встановлення пакетів у&nbsp;PyCharm

Якщо ми&nbsp;використовуємо PyCharm, управляти пакетами стає набагато простіше. Достатньо відкрити налаштування (File > Preferences), а потім вибрати вкладку "Project {назва проєкту} > Python Interpreter".

![](206_pycharm_settings_packages.png)

Для інтерпретатора Python, який використовується у&nbsp;проєкті (на комп’ютері може бути встановлено кілька інтерпретаторів), ми&nbsp;побачимо список встановлених пакетів та&nbsp;їхні версії. Цим списком легко керувати за допомогою плюса і мінуса. Мінус — це&nbsp;видалення пакета. Плюс — встановлення нового. Після його використання відображається інструмент пошуку пакетів. Знайшовши пакет, ми&nbsp;встановлюємо його за допомогою кнопки Install Package.

![](206_pycharm_install.png)

У PyCharm є ще один трюк, який я часто використовую. Припустімо, Ти&nbsp;шукаєш в&nbsp;інтернеті код для виконання певної операції. Ти&nbsp;знаходиш його та&nbsp;копіюєш у&nbsp;файл Python у&nbsp;PyCharm. Якщо в&nbsp;коді використовується пакет, який у&nbsp;Тебе не&nbsp;встановлений, під час&nbsp;його імпортування буде позначено помилку. Якщо ти помістиш на&nbsp;неї курсор, а потім натиснеш Alt+Enter (command+Enter на&nbsp;MacOS) [^206_7], ти побачиш пропозицію встановити цей пакет. Прийми її, натиснувши Enter, і PyCharm зробить все інше.

![](206_pycharm_install_suggestion.png)

## Керування версіями

Я багато разів згадував про версії. Це були різні версії Python, pip або пакетів. Навіщо всі ці версії? Хорошою метафорою в&nbsp;цьому випадку буде книга. Перший випуск книги — це&nbsp;перша версія. Через деякий час&nbsp;автор вирішує внести деякі правки, і з’являється друга версія. Потім третя, четверта і т.д. Те ж стосується програмного забезпечення, але оскільки внести зміни до програмного забезпечення набагато легше, ніж до книг, програми, зазвичай, мають значно більше версій.

Версія у&nbsp;програмуванні найчастіше описується відповідно до системи Semantic versioning. Вона складається із трьох частин, розділених крапками: Major, Minor та&nbsp;Patch. За замовчуванням перша готова до використання версія — це&nbsp;"1.0.0", а перша створена для демонстраційних цілей — "0.0.1". Коли ми&nbsp;випускаємо нову версію, то збільшуємо одну із частин назви версії відповідно до наступного ключа:
- Major — збільшуємо, якщо були дуже значні зміни, через які код, написаний для попередньої версії, швидше за все, не&nbsp;працюватиме. З її&nbsp;збільшенням ми&nbsp;скидаємо частини Minor і Patch до нуля.
- Minor — збільшуємо, коли були зміни, через які код, написаний для попередньої версії, працюватиме дещо інакше, ніж раніше. Ми&nbsp;також можемо позначити певні елементи як&nbsp;depricated (тобто, що&nbsp;їх не&nbsp;слід використовувати) або видалити елементи, які були depricated (через що&nbsp;частина програм, які використовували попередні версії, можуть не&nbsp;спрацьовувати). Збільшуючи її, ми&nbsp;обнуляємо Patch.
- Patch — збільшуємо, якщо вносимо незначні зміни, які не&nbsp;повинні впливати на&nbsp;використання нашого пакета.

{width: 40%}
![Приклад версії, збереженої відповідно до системи Semantic versioning, із підписаними частками MAJOR, Minor і patch.](sem_ver.png)

Зазначення версії дуже важливе. Уяви, що&nbsp;Ти створив програму, яка працює для пакета версії "1.2.3". Вона чудово працює, але потім виходить версія "2.0.0" цього пакета. На жаль, функції, які він надає, зовсім інші, через що&nbsp;Твій код перестає працювати. Ти, звичайно, можеш налаштувати свій код, але це&nbsp;вимагає додаткової роботи. До&nbsp;того ж кожен програміст хотів би робити це&nbsp;тоді, коли йому зручно, а не&nbsp;тоді, коли виходить нова версія пакета. Ось чому в&nbsp;PyPI зберігається не&nbsp;лише остання версія пакета, але й усі попередні. Ми&nbsp;можемо вибрати, яку саме версію пакета хочемо завантажити. При завантаженні через pip ми&nbsp;вказуємо її&nbsp;після подвійного знака рівності, наприклад `"pip install {назва пакета}=={версія}"` (або `"pip3 install{назва пакета}=={версія}"`).

Коли справді великі проєкти пишуться під конкретну версію пакета, адаптація до нової версії може бути настільки дорогою, що&nbsp;цього можуть не&nbsp;захотіти робити. Така ситуація траплялася подекуди з&nbsp;самою мовою Python. Коли була представлена третя версія, багато програм вирішили зупинитися на&nbsp;другій версії. Утворився внутрішній розкол, дуже проблематичний для усього середовища. Код, який подається на&nbsp;форумах чи курсах, зазвичай працює лише в&nbsp;одній із цих версій. Відповідно пакети також адаптуються до однієї чи іншої версії. Наразі третя версія фактично стала стандартом, але схоже, що&nbsp;ми&nbsp;ще не&nbsp;скоро забудемо про другу.

## Завершення

Коли ми&nbsp;навчимось встановлювати пакети та&nbsp;використовувати Python, світ програмування відкриє нам свою браму навстіж. Величезна кількість пакетів дозволяє виконувати складні операції всього кількома рядками коду. Ти&nbsp;переконаєшся у&nbsp;цьому в&nbsp;четвертому розділі.

[^206_1]: Багато програм і пакетів визначають, які літери мають бути великими, а які — малими. Я намагаюся завжди це&nbsp;поважати. Ось чому я пишу PyPI, а не&nbsp;Pypi. Крім того, pip, попри те, що&nbsp;це&nbsp;власна назва, пишеться малими літерами, якщо немає інших причин використовувати великі.
[^206_3]: Назва pip — це&nbsp;скорочення від англ. "Pip Installs Packages". Цікаво, що&nbsp;розшифровка абревіатури містить саму абревіатуру? Це так звана рекурсивна абревіатура. У світі програмування є багато таких абревіатур. Ми&nbsp;вважаємо їх кумедними, а оскільки Python розробляли ентузіасти, яким за це&nbsp;ніхто не&nbsp;платив, у&nbsp;багатьох місцях можна знайти цікаві несподіванки. Щоб&nbsp;знайти одну із них, введи "import this" в&nbsp;Python REPL.
[^206_4]: Я описав, як&nbsp;це&nbsp;зробити, в&nbsp;розділі *Перша програма*.
[^206_5]: Замість цього ми, звичайно, можемо в&nbsp;командному рядку перейти до місця, де&nbsp;ми&nbsp;зберегли файл. Це трохи схоже на&nbsp;Провідник, тобто програму, яка запускається, коли ми&nbsp;відкриваємо "Мій комп’ютер". Він відкритий у&nbsp;певному місці, і там можна відкривати файли, перейменовувати їх тощо. У Провіднику ми&nbsp;перевіряємо файли та&nbsp;папки там, де&nbsp;ми&nbsp;перебуваємо, за допомогою команди "dir" (у Терміналі за допомогою "ls"). Заходимо в&nbsp;папку через "cd {назва папки}". Щоб&nbsp;повернутися до папки, в&nbsp;якій знаходиться поточна папка, використовуємо "cd ..". Після введення "cd" і натискання Tab Ти&nbsp;побачиш список пропозицій. Почни вводити назву і натисни Tab, тоді Ти&nbsp;бачитимеш лише папки, які відповідають тому, що&nbsp;вже введене. Якщо залишиться тільки один варіант, назва буде автоматично заповнена до кінця. Таким чином ми&nbsp;переміщаємося папками у&nbsp;Провіднику/Терміналі.
[^206_6]: На жаль, є багато речей, які могли піти не&nbsp;так. Пояснення їх зайняло би цілу книгу та&nbsp;охоплювало вивчення багатьох аспектів операційних систем. На щастя, в&nbsp;інтернеті можна знайти поради для кожної проблеми. Однак, якщо у&nbsp;тебе немає подібного досвіду, я раджу звернутися за допомогою до когось, хто вже робив щось подібне раніше.
[^206_7]: Ця комбінація клавіш показує контекстні пропозиції. Використовуй її&nbsp;у випадку будь-яких попереджень (підкреслення жовтим) і помилок (підкреслення червоним), оскільки вона часто містить гарні пропозиції щодо автоматичного вирішення проблеми.

