# Умови

## Умовна інструкція if

Часто буває так, що&nbsp;ми&nbsp;хочемо щось робити лише в&nbsp;певних випадках. Ось кілька прикладів:

- ми&nbsp;хочемо показувати рекламу лише власникам безкоштовних облікових записів;
- ми&nbsp;хочемо приховати повідомлення, якщо воно надійшло від заблокованої особи;
- якщо публікація рекламується, вона повинна мати відповідний значок "реклама".

Щоб виконувати якусь частину коду за певної умови, ми&nbsp;використовуємо оператор if. Починаємо його з&nbsp;ключового слова `if` [^104_1], після чого ставимо **умову** (англ. condition). Умова — це&nbsp;вираз [^104_2], який повертає логічне значення `True` або `False`. Її можна створити, наприклад, за допомогою символу порівняння `==`, `<` або `!=`. Після умови ставимо двокрапку `:` і з&nbsp;наступного рядка вказуємо інструкції, які повинні бути виконані, якщо умова виконується (повертає значення `True`). Ці інструкції називаються **тілом** умови. Перед інструкціями в&nbsp;тілі слід відступити чотири пробіли. Завдяки цьому відступу Python відрізнятиме інструкції від решти коду. Якщо умова не&nbsp;виконується (повертає `False`), інструкції не&nbsp;виконуватимуться.

{width: 50%}
![](104_opis_if.png)

```python
if True:
    print("Це виведеться")  # Це виведеться

if False:
    print("А це ні")

tweet_type = "promotional"
tweet_owner = "marcinmoskala"
your_key = "yourname"

if tweet_type == "promotional":
    print("Реклама")  # Реклама

if tweet_owner == your_key:  # False,
    # оскільки "marcinmoskala" не дорівнює "yourname"
    print("Твій твіт")

# Виведеться:
# Це виведеться
# Реклама
```

## Відступи

Відступи, тобто додаткові пробіли перед певними інструкціями, мають у&nbsp;Python велике значення. Подивись на&nbsp;код нижче:

```python
if False:
    print("A")
print("B")
```

Що має бути виведено? Відповідь: тільки "B", тому що&nbsp;`print("A")` стоїть в&nbsp;операторі if, умова якого не&nbsp;виконується. Але звідки ми&nbsp;знаємо, що&nbsp;`print("A")` входить у&nbsp;тіло цієї умови, а `print("B")` ні? Саме завдяки відступу.

```python
if weekday == ‘friday’:
    print("Вечірка!")
```

Ми можемо розмістити ще одну інструкцію в&nbsp;тілі оператора if. Для цього ми&nbsp;додаємо додатковий відступ до її&nbsp;тіла.

```python
is_logged = True
is_admin = False

if is_logged:
    print("Користувач увійшов")
    if is_admin:
        print("Адміністратор")

# Виведеться:
# Користувач увійшов
```

Зауваж, що&nbsp;відступи корисні не&nbsp;лише для компілятора, а й для нас. Вони дозволяють легко розрізнити, що&nbsp;належить до тіла функції, а що&nbsp;ні.

> Довгий період велися дискусії про те, як&nbsp;робити відступи: за допомогою пробілів чи знаку табуляції. Сьогодні в&nbsp;кодуванні пробіли є стандартом, але в&nbsp;деяких проєктах досі можна зустріти знаки табуляції. В будь-якому випадку ніколи не&nbsp;можна змішувати ці два варіанти в&nbsp;одному проєкті.

Набір правил, який визначає, як&nbsp;повинен виглядати код, називається **форматуванням**. У ньому вказується: які мають бути відступи, де&nbsp;ставити абзаци та&nbsp;пробіли, за якими правилами слід називати змінні тощо. Форматування може відрізнятися залежно від проєкту. У Python найчастіше використовується відступ у&nbsp;чотири пробіли, тому в&nbsp;цій книзі я дотримуюся цього ж правила. Іноді можна побачити відступи, які складаються з&nbsp;двох пробілів.

## Порожнє тіло

Перед тілом оператора if має стояти відповідний відступ. Але що&nbsp;робити, якщо тіло з&nbsp;якихось причин порожнє? Python не&nbsp;бачитиме жодних інструкцій і вважатиме, що&nbsp;ми&nbsp;зробили помилку. У таких випадках в&nbsp;тілі умови необхідно поставити слово `pass`. Це ключове слово не&nbsp;виконує жодної операції, але має бути введене, щоби наш код працював. Це також корисна інформація для читача цього коду: вона повідомляє, що&nbsp;тіло умови навмисно залишене порожнім.

```python
if is_logged:
    pass
```

На практиці я рідко бачу `pass` в&nbsp;кінцевому коді. Однак це&nbsp;корисно знати під час&nbsp;роботи, наприклад, коли ми&nbsp;хочемо спершу зосередитися на&nbsp;написанні умови, а потім — на&nbsp;її тілі. Ключове слово `pass` також використовується, коли ми&nbsp;хочемо залишити порожнім тіло функції else, elif, циклу for і в&nbsp;багатьох інших структурах, які ми&nbsp;обговоримо в&nbsp;цій книзі пізніше.

### Вправа: if

Напиши код, який:
1. виведе "З повагою", якщо змінна `is_important` має значення `True`;
2. виведе "Вітаю";
3. виведе "Пані", якщо змінна `gender` має значення "female";
4. виведе "Пане", якщо змінна `gender` має значення "male".

Спочатку перерахуй усі значення, зробивши окремі виклики `print`, а потім подумай, як&nbsp;зібрати їх усі разом і записати в&nbsp;один рядок.

Перевір, як&nbsp;поводитиметься твій код при різних значеннях `is_important` (логічне значення `True`/`False`) і `gender` (значення стрінга "male", "female" або інше).

Відповіді [в кінці книги](https://kt.academy/pl/article/py-rozwiazania).

## Умовний виклик із частиною else

Тіло оператора if викликається лише тоді, коли умова виконується. Що робити, якщо ми&nbsp;хочемо виконати якусь іншу дію у&nbsp;випадку, коли умова не&nbsp;виконується? Припустімо, якщо твіт рекламується, то він має бути підписаний "Реклама", в&nbsp;іншому ж випадку — "Звичайний". Отже, ми&nbsp;могли б використати два умовних оператори if: один — для перевірки виконання умови, а інший — для перевірки виконання протилежної умови. Однак, оскільки це&nbsp;досить поширене явище, умова if дозволяє вам додати частину else [^104_3], яка визначає, що&nbsp;має статися, якщо умова не&nbsp;виконується.

{width: 90%}
![](104_opis_if_else.png)

```python
tweet_type = "standard"

if tweet_type == "promotional":
    print("Реклама")
else:
    print("Звичайний")

# Результат той самий, якби ми написали:
if tweet_type == "promotional":
    print("Реклама")

if tweet_type != "promotional":
    print("Звичайний")
```

Зауваж, що&nbsp;завжди викликатиметься або тіло з&nbsp;if, або тіло з&nbsp;else. Цей факт часто використовується, наприклад, при застосуванні if-else для встановлення значення змінної.

```python
tweet_type = "standard"

if tweet_type == "promotional":
    label = "Реклама"
else:
    label = "Звичайний"

print(label)  # Звичайний
```

`label` завжди матиме певне значення: "Реклама" або "Звичайний".

## Умовний виклик із частиною elif

А якщо ми&nbsp;маємо більше альтернативних варіантів? Наприклад, кілька умов, які ми&nbsp;хочемо перевірити по&nbsp;черзі. Щоб&nbsp;обробити кожне з&nbsp;цих значень, ми&nbsp;можемо використати частину elif (скорочення від "else if" або "otherwise if"). Ми&nbsp;ставимо цю частину після умови if, але перед else. Ця команда дозволяє вказати іншу умову, яка перевірятиметься, якщо умова з&nbsp;if не&nbsp;виконується. Якщо умова з&nbsp;elif виконується, то буде виконуватися її&nbsp;тіло. Можна додавати багато таких "elif".

{width: 80%}
![](104_opis_if_elif.png)

Наприклад, якщо ми&nbsp;хочемо обробити кілька можливих значень `tweet_type`:

- "promotional" означає твіт, який рекламується;
- "followed" означає твіт із профілю, за яким користувач стежить;
- "own" означає власний твіт користувача, який увійшов у&nbsp;систему.

```python
if tweet_type == "promotional":
    print("Реклама")
elif tweet_type == "followed":
    print("Звичайний")
elif tweet_type == "own":
    print("Власний")
else:
    print("Інший")

# Те ж саме, що
if tweet_type == "promotional":
    print("Реклама")
else:
    if tweet_type == "followed":
        print("Звичайний")
    else:
        if tweet_type == "own":
            print("Власний")
        else:
            print("Інший")
```

> Альтернативою є використання match-case, представленого у&nbsp;версії 3.10, яку я вирішив не&nbsp;розглядати в&nbsp;цій книзі. Зацікавленим рекомендую дізнатися про цей спосіб більше з&nbsp;інших джерел.

В інструкції if Python перевіряє послідовні частини. Для першої частини, для якої умова виконується, Python викличе блок коду. Після цього перевірка закінчується. Отже, якщо у&nbsp;нас є блок else, завжди буде викликатися рівно одне тіло. Таким чином, умовні інструкції if та&nbsp;elif представляють різні взаємовиключні альтернативи.

У наведеному вище прикладі, якщо `tweet_type` буде `"promotional"`, буде виведено текст "Реклама". Якщо значення дорівнюватиме `"followed"`, буде виведено "Звичайний". Якщо воно дорівнюватиме `"own"`, буде виведено "Власний". Якщо жодне з&nbsp;вищезазначених не&nbsp;відповідатиме дійсності —"Інший".

Слід звернути увагу, що&nbsp;в інструкції if може бути виконаний лише один блок. Ми&nbsp;використаємо цей факт у&nbsp;прикладі нижче. Перший блок буде викликано, коли значення `percent` буде 95 або більше. Другий — коли значення буде 80 або більше, але менше ніж 95. Третій — коли воно буде 50 або більше та&nbsp;менше ніж 80. Натомість останній — для значень до 50. У зв’язку з&nbsp;цим ми&nbsp;ніколи не&nbsp;побачимо більше однієї відповіді одночасно.

```python
print("Чи це точно?")
if percent >= 95:
    print("На 100 %")
elif percent >= 80:
    print("Радше так")
elif percent >= 50:
    print("Якось так")
else:
    print("Ееее")
```

### Вправа: else та&nbsp;elif

Напиши код, який:
- якщо змінна `coffee_finished` буде `False`, виведе "П’ю каву";
- якщо змінна `days_until_deadline` менше 2, виведе "Працюю";
- в&nbsp;іншому випадку виведе "Вчуся програмувати!".

Перевір, як&nbsp;Твій код поводитиметься для різних значень `coffee_finished` (логічне значення `True`/`False`) і `days_until_deadline` (числове значення).

Відповіді [в кінці книги](https://kt.academy/pl/article/py-rozwiazania).

### Вправа: Умови

Нижче я наводжу чотири варіанти значень змінних `user_name` і `user_age` та&nbsp;три фрагменти коду. Для кожної пари дай відповідь на&nbsp;запитання: як&nbsp;буде поводитися код для конкретних значень змінної? Всього дай 12 відповідей: для кожної комбінації варіантів і коду.

**Перший варіант**

```python
user_name = "Міхал"
user_age = 31
```

{pagebreak}

**Другий варіант**

```python
user_name = "Голова Марек"
user_age = 61
```

**Третій варіант**

```python
user_name = "Павел"
user_age = 10
```

**Четвертий варіант**

```python
user_name = ""
user_age = 14
```

**Перший фрагмент коду — умова if**

```python
if user_name == "Голова Марек":
    print("Вітаємо, Пане Голово")

if user_name != "":
    print("Привіт, " + user_name)

if user_age < 18:
    print("Може, цукерку?")

if user_age >= 18:
    print("Може, щось вип’єте?")
```

{pagebreak}

**Другий фрагмент коду — умова if з&nbsp;else**

```python
if user_name == "Голова Марек":
    print("Вітаємо, Пане Голово")
else:
    print("Привіт, " + user_name)

if user_age < 18:
    print("Може, цукерку?")
else:
    print("Може, щось вип’єте?")
```

**Третій фрагмент коду — умова if з&nbsp;elif**

```python
if user_name == "Голова Марек":
    print("Вітаємо, Пане Голово")
elif user_name != "":
    print("Привіт, " + user_name)

if user_age <= 10:
    print("Категорія: Діти")
elif user_age <= 20:
    print("Категорія: Молодь")
elif user_age <= 60:
    print("Категорія: Дорослі")
else:
    print("Категорія: Старші")
```

Відповіді [в кінці книги](https://kt.academy/pl/article/py-rozwiazania).

[^104_1]: Слово "if" можна перекласти українською як&nbsp;"якщо".
[^104_2]: Див. *Словник* в&nbsp;самому кінці книги.
[^104_3]: Слово "else" можна перекласти українською як&nbsp;"в іншому випадку".


