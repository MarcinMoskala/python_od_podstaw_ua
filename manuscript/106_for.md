# Цикли

Як ми&nbsp;вже говорили в&nbsp;попередніх розділах, кожен рядок коду є **інструкцією**. Вони своєю чергою виконуються послідовно зверху вниз.

```python
print("Це буде виведено спочатку,")
print("а це потім")
# Виведе:  
# Це буде виведено спочатку,  
# а це потім
```

Порядок виконання інструкцій називається **потоком керування**. Це&nbsp;важливо, оскільки певні інструкції змінюють цей потік. Ми&nbsp;вже бачили одну з&nbsp;них — інструкція if дозволяє нам пропустити частину коду, якщо не&nbsp;виконується певна умова. Однак досі ми&nbsp;не могли змусити одну команду виконуватися більше одного разу. Цей бар’єр ми&nbsp;подолаємо зараз за&nbsp;допомогою використання циклів.

## Цикл while

Визначення циклу while мало чим відрізняється від умови if. Змінюється лише ключове слово&nbsp;`if` на&nbsp;`while`. Поведінка також певною мірою подібна.

{width: 60%}
![](106_while.png)

Якщо умова не&nbsp;виконується (повертає&nbsp;`False`), тоді тіло пропускається (подібно до&nbsp;того, як&nbsp;у випадку умови if).

```python
while False:
    print("Цей текст ніколи не буде виведено")

if False:
    print("Цей текст ніколи не буде виведено ")
	
# Нічого не буде виведено
```

Однак, якщо умова виконується (повертає&nbsp;`True`), тіло буде викликатися. Тут while відрізняється від if тим, що&nbsp;ми&nbsp;послідовно перевіряємо умову і,&nbsp;якщо вона все ще&nbsp;виконується, знову викликаємо тіло. Ми&nbsp;повторюємо цей процес, доки умова не&nbsp;поверне&nbsp;`False`.

У наступному випадку перша умова буде виконана тільки один раз, оскільки в&nbsp;тілі ми&nbsp;змінюємо значення змінної&nbsp;`should_print` на&nbsp;`False`. Друга буде виконана тричі, тому що&nbsp;в тілі ми&nbsp;збільшуємо значення змінної, доки її&nbsp;значення не&nbsp;буде більше, ніж 2.

```python
should_print = True
while should_print:
    print("Буде виведено лише раз")
    should_print = False

# Виведе:    
# Буде виведено лише раз

printed_times = 0
while printed_times <= 2:
    print(f"Виведене для {printed_times}")
    printed_times += 1
    # в іншому разі printed_times = printed_times + 1

# Виведе:
# Виведене для 0
# Виведене для 1
# Виведене для 2
```

Повертаючись до&nbsp;історії Мишка, можна використати цикл, щоб записати вказівку його мами: "Ти будеш писати твір, доки не&nbsp;закінчиш".

```python
while not essey_finished:
    write_essey()
```

Якщо ми&nbsp;поставимо в&nbsp;цикл умову, яка виконуватиметься завжди, цикл працюватиме нескінченно. Наступна програма ніколи не&nbsp;припинить друкувати "LOL" (доки буде увімкнена).

```python
# Виписуватиме нескінченно
while True:
    print("LOL")
```

Це означає, що&nbsp;тіло циклу може виконуватися від нуля до&nbsp;нескінченної кількості разів. Цикл, який ніколи не&nbsp;закінчується, називається **нескінченним**. Найчастіше це&nbsp;наслідок помилки програміста.

Типовий випадок використання циклу — коли ми&nbsp;в тілі збільшуємо значення, поки воно не&nbsp;перевищить верхню межу. Так утворюються відомі нам зі&nbsp;школи послідовності чисел. Якщо б ми&nbsp;хотіли виписати по&nbsp;порядку числа, кратні 3 (де наступний елемент утворюється шляхом додавання числа 3 до&nbsp;попереднього), ми&nbsp;могли би&nbsp;використати такий цикл:

```python
i = 3
while i <= 10:
    print(i)
    i += 3  # або i = i + 3

# Виведе:
# 3
# 6
# 9
```

Якщо б ми&nbsp;хотіли виписати по&nbsp;порядку числа, які є наступними степенями 2 (де кожен наступний елемент утворюється шляхом подвоєння попереднього), ми&nbsp;могли б використати такий цикл:

```python
i = 1
while i <= 100:
    print(i)
    i *= 2  # або i = i * 2

# Виведе:
# 1
# 2
# 4
# 8
# 16
# 32
# 64
```

### Вправа: Математичні послідовності

- Виведи послідовні парні числа (кратні 2), починаючи з&nbsp;0, які менші ніж 100.
- Виведи послідовні числа, кратні 7, починаючи з&nbsp;0, які менші ніж 100.
- Виведи послідовні значення, утворені в&nbsp;результаті потроєння числа кілька разів, починаючи з&nbsp;13, доки результат буде меншим ніж 1000.
- Виведи квадрати послідовних цілих чисел, які менші ніж 1000.

Відповіді в кінці книги.

## Цикл for

Ще один цикл, який часто використовується, — цикл for. У наступних частинах цієї книги ми&nbsp;побачимо, що&nbsp;він використовується в&nbsp;основному для виконання операції для кожного з&nbsp;елементів списку:

```python
names = ["Аля", "Бася", "Целіна"]
for name in names:
    print("Наступне ім’я — " + name)

# Виведе:
# Наступне ім’я — Аля
# Наступне ім’я — Бася
# Наступне ім’я — Целіна
```

Однак перед тим, як&nbsp;перейти до списків, поговорімо про дещо інше використання циклу for, а саме для виконання операцій з&nbsp;послідовними числами. Для цього в&nbsp;правій частині ми&nbsp;повинні використати функцію [^106_1]&nbsp;`range`, яка задає діапазон чисел. Якщо ми&nbsp;використаємо її&nbsp;з&nbsp;одним числом, вона позначатиме, скільки чисел міститиме діапазон. Отже, якщо ми&nbsp;використаємо&nbsp;`for i in range(5)`, то тіло циклу буде викликано рівно 5 разів. Але які значення прийматиме змінна `і`? Ітерація [^106_2] за замовчуванням починається з&nbsp;0, тому, якщо ми&nbsp;викликаємо `range(5)`, тоді ми&nbsp;викличемо тіло циклу для чисел від 0 до 4. Завдяки цьому є 5 чисел: якби ми&nbsp;почали з&nbsp;0 і закінчили на&nbsp;5, тіло було би викликано 6 разів. Оскільки ми&nbsp;починаємо з&nbsp;0, ми&nbsp;закінчуємо безпосередньо перед числом, заданим як&nbsp;аргумент функції `range`.

```python
for i in range(5):
    print(i)

# Виведе:
# 0
# 1
# 2
# 3
# 4
```

В тілі циклу можна помістити багато інструкцій.

```python
for i in range(3):
    print(f"Лишилося {3 — i} соки")
    print("Ковть ковть ковть")
	
print("Соку вже немає")

# Виведе:
# Лишилося 3 соки
# Ковть ковть ковть
# Лишилося 2 соки
# Ковть ковть ковть
# Лишилося 1 соки
# Ковть ковть ковть
# Соку вже немає
```

Якщо аргумент функції `range` менше ніж 1, нічого не&nbsp;буде виведено.

```python
for i in range(0):
    print(i)

# Нічого не буде виведено
```

## Початкове значення

Ми можемо також викликати функцію `range` з&nbsp;двома числами, розділеними комою. Перша з&nbsp;них визначатиме, з&nbsp;якого числа ми&nbsp;повинні почати ітерацію, а друга — перед якою ми&nbsp;маємо її&nbsp;закінчити. Таким чином `range(3)` містить `0`, `1` і `2`, тоді як&nbsp;`range(1, 3)` містить тільки `1` і `2`, тому що&nbsp;ми&nbsp;починаємо відлік з&nbsp;`1` і закінчуємо до `3`.

```python
for i in range(1, 3):
    print(i)

# Виведе:
# 1
# 2
```

```python
for i in range(2, 5):
    print(i)

# Виведе:
# 2
# 3
# 4
```

Якщо кінцеве обмеження буде меншим або рівним початковому значенню, нічого не&nbsp;буде виведено.

```python
for i in range(5, 5):
    print(i)
```

## Крок

У функції `range` ми&nbsp;можемо поставити ще один аргумент, а саме крок. Це число, на&nbsp;яке змінюється початкове значення під час&nbsp;наступних викликів. За замовчуванням це&nbsp;`1`, тому, наприклад, між `1` та&nbsp;`6` ми&nbsp;йдемо число за числом. Однак, якщо ми&nbsp;змінимо значення кроку на&nbsp;`2`, то побачимо кожне друге число, починаючи з&nbsp;`1`, після чого зупинимося перед `6`.

```python
for i in range(1, 6, 2):
    print(i)

# # Виведе:
# 1
# 3
# 5
```

Якщо ми&nbsp;встановимо від’ємне значення кроку, відлік піде в&nbsp;іншу сторону.

```python
for i in range(10, 0, -2):
    print(i)

# # Виведе:
# 10
# 8
# 6
# 4
# 2
```

### Вправа: Використання циклів for для чисел

З використанням циклу for:

- виведи 5 послідовних чисел, починаючи з&nbsp;0;
- виведи по&nbsp;черзі числа, починаючи з&nbsp;5, які менші за 10;
- виведи кожне четверте число від 5 до 30;
- виведи по&nbsp;черзі числа від 10 до 5 (без 5);
- виведи кожне друге число від 20 до 0 (без 0).

Відповіді в кінці книги.

### Завершення

Цикли — це&nbsp;дуже корисний і функціонал мови Python, який часто використовується. Знати та&nbsp;розуміти їх дуже зручно. Ми&nbsp;ж перейдемо до ключового функціоналу сучасних проєктів програмування, який багатьма експертами описується як&nbsp;найважливіший у&nbsp;мовах програмування. Час поговорити про функції.

[^106_1]: З функціями ми&nbsp;познайомимося ближче в&nbsp;наступному розділі.
[^106_2]: Ітерація (лат. iteratio — повторення) — це&nbsp;повторення тієї самої операції в&nbsp;циклі заздалегідь визначену кількість разів або до виконання певної умови.

